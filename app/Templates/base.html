<!DOCTYPE html>
<html itemscope="" itemtype="http://schema.org/WebPage" lang="es-419">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <script src="{{ url_for('static', filename='js/functions.js') }}"></script>
    <title>{% block titulo %} {% endblock %}</title>
  </head>
  <body>
    <v-app id="app">
        <v-app-bar app color="#54677A" dark elevate-on-scroll elevation=1 height="72">
            {% if is_login %}
            <v-app-bar-nav-icon @click.stop="drawer = !drawer" title="Menu"></v-app-bar-nav-icon>
            {% endif %}
            <v-toolbar-title shrink-on-scroll>{% block bar_tittle %} {% endblock %}</v-toolbar-title>
            <v-spacer></v-spacer>

            <v-btn class="ma-2" elevation="2" outlined color="orange" title="Acerca de" href="{{url_for('main.index')}}">
              <v-icon class="md-2" left>mdi-home-outline</v-icon>Home
            </v-btn>


            {% if is_login %}
              <!--INFO-->
              <v-btn class="ma-2" elevation="2" outlined color="orange" title="Acerca de">
                <v-icon class="md-2" left>mdi-help-circle</v-icon>Info
              </v-btn>

              <!--SALIR-->
              <v-btn class="ma-2" elevation="2" outlined color="red" title="Salir" href="{{url_for('main.logout')}}">
                <v-icon class="md-2" left>mdi-exit-to-app</v-icon>
                Exit     
              </v-btn>

              <v-card elevation =0>
                <v-navigation-drawer width="300" :mini-variant.sync="mini" permanent color="#54677A" dark elevate-on-scroll elevation=0>
                  <v-list>
                    <v-list-item class="px-2">
                      <v-list-item-avatar>
                        <v-img src="https://randomuser.me/api/portraits/women/85.jpg"></v-img>
                      </v-list-item-avatar>
                      <v-list-item-title>{{session['usr_name']}}</v-list-item-title>

                      <v-btn icon small fab href="{{url_for('main.cog_users')}}"><v-icon>mdi-account-cog</v-icon></v-btn>
                      <v-btn icon @click.stop="mini = !mini"><v-icon>mdi-chevron-left</v-icon></v-btn>
                    </v-list-item>
                </v-navigation-drawer>
              </v-card>
              {% else %}
              <!--LOGIN-->
              <v-btn class="pd-2 ml-4" outlined elevation="2"  title="Acceder" href="{{url_for('main.login')}}">
                <v-icon class="md-2" left>mdi-account-circle</v-icon>
                {% block btn_login %} Login {% endblock %}
              </v-btn>

              <!--REGISTRARSE-->
              <v-btn class="success pd-2 ml-4" elevation="2" outlined title="Registrar Usuario" href="{{url_for('main.register')}}">
                <v-icon class="md-2" left>mdi-account-plus</v-icon>
                {% block btn_signin %} Sign in{% endblock %}                
              </v-btn>
            {% endif %}
          </v-app-bar>

          <v-navigation-drawer width="280" v-model="drawer" absolute bottom temporary>
            <v-list nav dense >
                <v-subheader class="text-h6">MENU DE NAVEGACIÓN</v-subheader>
              <v-list-item-group v-model="group" active-class="deep-purple--text text--accent-4">
                <v-container height="250">
                  <v-divider></v-divider>
                </v-container>

                <!--USUARIO ADMIN-->
                {% if g.is_admin%}
                <v-list-item>
                    <v-btn color="indigo" outlined height="60" width="250" elevation="0" href="{{url_for('main.users')}}" title="Administrar Reservas">
                        <v-icon class="pr-1">mdi-account-cog</v-icon>Administrar usuarios
                    </v-btn>
                </v-list-item>
      
                <v-list-item>
                    <v-btn color="indigo" outlined height="60" width="250" elevation="0" href="{{url_for('main.sync_info')}}" title="Administrar Reservas">
                    <v-icon class="pr-1">mdi-cloud-sync</v-icon>Sincronizar</v-btn>
                </v-list-item>
                {% endif %}

                <!--USUARIO SUPERVISOR O MADRES-->
                {% if g.is_admin or g.is_moder %}
                <v-list-item>
                    <v-btn class="pr-2" color="indigo" outlined height="60" width="250" elevation="0" href="{{url_for('main.edit')}}" title="Administrar Seguridad">
                    <v-icon class="pr-1">mdi-pencil</v-icon>Editar registros</v-btn>
                </v-list-item>
      
                <v-list-item>
                    <v-btn color="indigo" outlined height="60" width="250" elevation="0" href="{{url_for('main.add')}}" title="Administrar Reservas">
                    <v-icon class="pr-1">mdi-playlist-plus</v-icon>Nevos beneciciarios</v-btn>
                </v-list-item>
                {% endif %}

                {% if g.is_admin or g.is_moder or g.is_free %}
                <v-list-item>
                    <v-btn color="indigo" outlined height="60" width="250" elevation="0" href="{{url_for('main.registros')}}" title="Administrar Habitaciones">
                    <v-icon class="pr-2">mdi-layers-search</v-icon>Consultar datos</v-btn>
                </v-list-item>
                {% endif %}
              </v-list-item-group>
            </v-list>
          </v-navigation-drawer>

            <v-main class="pt-9 mt-5">
              <v-parallax height="500" src="https://www.techedgegroup.com/hubfs/DE%20-%202020%20-%20Images/SAP%20Cloud%20Platform%20Integration.jpg">
                <v-row class="d-flex align-center" justify="center">
                  <v-col class="align-center text-center">
                    <h1 class="text-h3 font-weight-bold white--text mb-4">
                      {% block sub_title %}
                        
                      {% endblock %}
                    </h1>
                    {% block contenido_1 %}
        
                    {% endblock %}
                  </v-col>
                </v-row>
                <v-row class="d-flex align-center" justify="center">
                </v-row>
              </v-parallax>
              {% block contenido_2 %}
              {% endblock %}
      
              {% block contenido_3 %}
              {% endblock %}
      
              {% block contenido_4 %}
              {% endblock %}
      
              {% block contenido_5 %}
              {% endblock %}
            </v-main>
      
            <v-footer dark padless elevation="5">
              <v-card flat tile class="indigo lighten-1 white--text text-center flex">
                <v-card-text>
                  <v-btn href="https://www.facebook.com/" title="Facebook" class="mx-4 white--text" icon>
                    <v-icon size="24px">mdi-facebook</v-icon>
                  </v-btn>
                  <v-btn href="https://twitter.com/a" title="Twitter" class="mx-4 white--text" icon>
                    <v-icon size="24px">mdi-twitter</v-icon>
                  </v-btn>
                  <v-btn href="https://www.linkedin.com/" title="LinkedIn" class="mx-4 white--text" icon>
                    <v-icon size="24px">mdi-linkedin</v-icon>
                  </v-btn>
                  <v-btn href="https://www.instagram.com/" title="Instagram" class="mx-4 white--text" icon>
                    <v-icon size="24px">mdi-instagram</v-icon>
                  </v-btn>
                </v-card-text>
          
                <v-card-text class="white--text pt-0">
                  {% block text_footer_01 %} {% endblock %}
                </v-card-text>
          
                <v-divider></v-divider>
          
                <v-card-text class="white--text">
                  2021 — <strong>{% block text_footer_02 %} {% endblock %}</strong>
                </v-card-text>
              </v-card>
            </v-footer>
    </v-app>
      <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script>
        h = new Vue({
          el: '#app',
          vuetify: new Vuetify(),
          data: () => ({
            drawer: false,
            group: null,
            mini: true,
            items: [
              { title: 'Click Me' },
              { title: 'Click Me' },
              { title: 'Click Me' },
              { title: 'Click Me' },
            ],

          }),
          watch: {
          group () {
            this.drawer = false
          },
        },
        })
      </script>
  </body>
</html>

